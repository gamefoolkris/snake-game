!function(){var e="undefined"!=typeof process&&process.versions&&process.versions.node,r="undefined"!=typeof Uint8Array;if(e&&require("fs").existsSync(__dirname+"/../build/Release/base91encdec.node"))module.exports=require(__dirname+"/../build/Release/base91encdec.node");else{var n='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+,./:;<=>?@[]^_`{|}~"'.split(""),s=[91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,62,90,63,64,65,66,91,67,68,69,70,71,91,72,73,52,53,54,55,56,57,58,59,60,61,74,75,76,77,78,79,80,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,81,91,82,83,84,85,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,86,87,88,89,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91],i=0,o={encode:function(e){var r=e.length,s="",o=0,f=0,d=0,t=0,l=0;if("string"==typeof e)for(i=0;i<r;++i){t=0;for(var a=(l=e.charCodeAt(i))<128?1:l>127&&l<2048?2:3;t<a;++t)o|=1===a?l<<f:2===a?0===t?(l>>6|192)<<f:(63&l|128)<<f:0===t?(l>>12|224)<<f:1===t?(l>>6&63|128)<<f:(63&l|128)<<f,(f+=8)>13&&((d=8191&o)>88?(o>>=13,f-=13):(d=16383&o,o>>=14,f-=14),s+=n[d%91],s+=n[d/91|0])}else for(i=0;i<r;++i)o|=(255&e[i])<<f,(f+=8)>13&&((d=8191&o)>88?(o>>=13,f-=13):(d=16383&o,o>>=14,f-=14),s+=n[d%91],s+=n[d/91|0]);return f>0&&(s+=n[o%91],(f>7||o>90)&&(s+=n[o/91|0])),s},decode:function(n){var i,o=n.length,f=o/1.2297|0,d=0,t=0,l=-1,a=0,u=-1,c=0,p=new Array(f);if("string"==typeof n){for(a=0;a<o;++a)if(c=n.charCodeAt(a),91!==s[c])if(-1===l)l=s[c];else{d|=(l+=91*s[c])<<t,t+=(8191&l)>88?13:14;do{++u>=f?p.push(255&d):p[u]=255&d,d>>=8,t-=8}while(t>7);l=-1}}else for(a=0;a<o;++a)if(c=n[a],91!==s[c])if(-1===l)l=s[c];else{d|=(l+=91*s[c])<<t,t+=(8191&l)>88?13:14;do{++u>=f?p.push(255&d):p[u]=255&d,d>>=8,t-=8}while(t>7);l=-1}if(-1!==l&&(++u>=f?p.push(d|l<<t):p[u]=d|l<<t),u>-1&&u<f-1&&(p=p.slice(0,u+1)),e)i=new Buffer(p);else if(r)for(i=new Uint8Array(p.length),a=0,o=p.length;a<o;++a)i[a]=p[a];else i=p;return i}};e?module.exports=o:window.base91=o}}();